<!DOCTYPE html>
<html lang="ko">
    <head>
        
        <title>uEngine &mdash; The AI-first Company</title>
        <meta name="description" content="유엔진솔루션즈 블로그는 복잡한 기술 개념을 누구나 쉽게 이해할 수 있도록 풀어냅니다.">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        
        <!-- Favicon -->
        <link rel="icon" href="../../images/favicon.png" type="image/png" sizes="any">

        <!-- CSS -->
        <link rel="stylesheet" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" href="../../css/style.css?after">
        <link rel="stylesheet" href="../../css/style-responsive.css">
        <link rel="stylesheet" href="../../css/vertical-rhythm.min.css">
        <link rel="stylesheet" href="../../css/magnific-popup.css">
        <link rel="stylesheet" href="../../css/owl.carousel.css">
        <link rel="stylesheet" href="../../css/splitting.css">
        <link rel="stylesheet" href="../../css/YTPlayer.css">
        <link rel="stylesheet" href="../../css/demo-main/demo-main.css">
        
        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet"> 

    </head>
    <body class="appear-animate">
        
        <!-- Page Loader -->        
        <div class="page-loader">
            <div class="loader">Loading...</div>
        </div>
        <!-- End Page Loader -->

        <!-- Skip to Content -->
        <a href="#main" class="btn skip-to-content">Skip to Content</a>
        <!-- End Skip to Content -->
        
        <!-- Page Wrap -->
        <div class="page" id="top">
            
            <!-- Navigation Panel -->
            <nav class="main-nav dark light-after-scroll transparent stick-fixed wow-menubar">
                <div class="main-nav-sub full-wrapper">
                    
                    <div class="nav-logo-wrap local-scroll">
                        <a href="../../index.html" class="logo">
                            <img src="../../images/logo-w.png" alt="uEngine Logo" width="105" height="34" class="logo-white" />
                            <img src="../../images/logo-b.png" alt="uEngine Logo" width="105" height="34" class="logo-dark" />
                        </a>
                    </div>
                    
                    <!-- Mobile Menu Button -->
                    <div class="mobile-nav" role="button" tabindex="0">
                        <!-- 모바일 문의하기 -->
                        <a href="../contactUs.html" class="opacity-1 no-hover mobile-chat"><span class="link-hover-anim underline" data-link-animate="y">문의하기</span></a>

                        <i class="mobile-nav-icon"></i>
                        <span class="visually-hidden">Menu</span>
                    </div>
                    
                    <!-- Main Menu -->
                    <div class="inner-nav desktop-nav">
                        <ul class="clearlist local-scroll">
                            
                            <!-- Item With Sub -->
                            <li>
                                <a href="#" class="mn-has-sub active">AI For Development <i class="mi-chevron-down"></i></a>
                                
                                <!-- Sub Megamenu -->
                                <ul class="mn-sub mn-has-multi">
                                    
                                    <!-- Sub Column -->
                                    <li class="mn-sub-multi">
                                        <span class="mn-group-title">&lt;Products&gt;</span>
                                        <ul>
                                            <li>
                                                <a href="https://www.msaez.io/" target="_blank" style="font-size: 18px;">MSA Easy (SaaS)</a>
                                            </li>
                                            <li>
                                                <a href="../dxez.html" style="font-size: 18px;">DX Easy (On-Prem)</a>
                                            </li>
                                            <li>
                                                <a href="../legacyModernizer.html" style="font-size: 18px;">Legacy Modernizer</a>
                                            </li>
                                        </ul>

                                        <span class="mn-group-title" style="margin-top: 20px;">&lt;Services&gt;</span>
                                        <ul>
                                            <li>
                                                <a href="https://www.msaschool.io/operation/introduction/" target="_blank" style="font-size: 18px;">Education - MSA</a>
                                            </li>
                                            <!-- <li>
                                                <a href="https://www.llmschool.ai/operation/introduction/" target="_blank" style="font-size: 18px;">Education - LLM</a>
                                            </li> -->
                                            <li>
                                                <a href="../consultingMSA.html" style="font-size: 18px;">Consulting</a>
                                            </li>
                                            <li>
                                                <a href="../vibeCodingRental.html" style="font-size: 18px;">Vibe Coding</a>
                                            </li>
                                        </ul>

                                        <ul style="margin-top: 30px;">
                                            <li>
                                                <a href="../caseStudiesMSA.html" style="font-size: 18px;">Case Studies</a>
                                            </li>
                                        </ul>                                    
                                    </li>
                                    <!-- End Sub Column -->                                    
                                </ul>
                                <!-- End Sub Megamenu -->
                                
                            </li>
                            <!-- End Item With Sub -->

                            <!-- Item With Sub -->
                            <li>
                                <a href="#" class="mn-has-sub active">AI For Business Process <i class="mi-chevron-down"></i></a>
                                
                                <!-- Sub Megamenu -->
                                <ul class="mn-sub mn-has-multi">
                                    
                                    <!-- Sub Column -->
                                    <li class="mn-sub-multi">
                                        <span class="mn-group-title">&lt;Products&gt;</span>
                                        <ul>
                                            <li>
                                                <a href="../uengine6bpm.html" style="font-size: 18px;">uEngine6 BPM</a>
                                            </li>
                                            <li>
                                                <a href="../processGPT.html" style="font-size: 18px;">Process GPT</a>
                                            </li>
                                        </ul>

                                        <span class="mn-group-title" style="margin-top: 20px;">&lt;Services&gt;</span>
                                        <ul>
                                            <li>
                                                <a href="../educationBPM.html" style="font-size: 18px;">Education</a>
                                            </li>
                                            <li>
                                                <a href="../consultingBPM.html" style="font-size: 18px">Consulting</a>
                                            </li>
                                        </ul>

                                        <ul style="margin-top: 30px;">
                                            <li>
                                                <a href="../caseStudiesBPM.html" style="font-size: 18px;">Case Studies</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <!-- End Sub Column -->                                    
                                </ul>
                                <!-- End Sub Megamenu -->
                                
                            </li>
                            <!-- End Item With Sub -->

                            <!-- Item With Sub -->
                            <li>
                                <a href="#" class="mn-has-sub active">About <i class="mi-chevron-down"></i></a>
                                
                                <!-- Sub Megamenu -->
                                <ul class="mn-sub mn-has-multi">
                                    
                                    <!-- Sub Column -->
                                    <li class="mn-sub-multi">
                                        <!-- <span class="mn-group-title">&lt;Company&gt;</span> -->
                                        <ul>
                                            <li>
                                                <a href="../history.html" style="font-size: 18px;">History</a>
                                            </li>
                                            <li>
                                                <a href="../newsroom.html" style="font-size: 18px;">Newsroom</a>
                                            </li>
                                            <li>
                                                <a href="../newsWebinars.html" style="font-size: 18px;">Webinars</a>
                                            </li>
                                            <li>
                                                <a href="https://uengine.stibee.com/" target="_blank" style="font-size: 18px;">Newsletter</a>
                                            </li>
                                            <li>
                                                <a href="../interview.html" style="font-size: 18px;">Interview</a>
                                            </li>
                                            <li>
                                                <a href="../partners.html" style="font-size: 18px;">Partners</a>
                                            </li>
                                        </ul>

                                        <!-- 
                                        <ul style="margin-top: 30px;">
                                            <li>
                                                <a href="contents/caseStudiesBPM.html" style="font-size: 18px;">Case Studies</a>
                                            </li>
                                        </ul> -->
                                    </li>
                                    <!-- End Sub Column -->                                    
                                </ul>
                                <!-- End Sub Megamenu -->
                                
                            </li>
                            <!-- End Item With Sub -->
                        </ul>
                        
                        <ul class="items-end clearlist">
                                      
                            <li class="pc-chat"><a href="../contactUs.html" class="opacity-1 no-hover"><span class="link-hover-anim underline" data-link-animate="y">문의하기</span></a></li>
                            <li><a href="../blogList.html" class="opacity-1 no-hover"><span class="link-hover-anim underline" data-link-animate="y">Blogs</span></a></li>
 
                        </ul>                        
                        
                    </div>
                    <!-- End Main Menu -->
                    
                </div>
            </nav>
            <!-- End Navigation Panel -->
            
            <main id="main">
            
                <!-- Header Section -->
                <section class="page-section bg-dark-1 bg-dark-alpha-70 light-content parallax-5" style="background-image: url(../../images/full-width-images/section-bg-1.jpg)">
                    <div class="container position-relative pt-30 pt-sm-50">
                        
                        <!-- Section Content -->
                        <div class="text-center">
                            <div class="row">
                                
                                <!-- Page Title -->
                                <div class="col-md-8 offset-md-2">
                                        
                                    <h1 class="hs-title-0 mb-20">
                                        <span class="wow charsAnimIn" data-splitting="chars">그래프 DB와 임베딩 벡터로 구현하는 피드백 루프 코딩 에이전트</span>
                                    </h1>
                                    
                                    <!-- Author, Categories, Comments -->
                                    <div class="blog-item-data mt-30 mt-sm-10 mb-0 wow fadeInUp" data-wow-delay="0.2s">
                                        <div class="d-inline-block me-3">
                                            <a href="#"><i class="mi-clock size-16"></i><span class="visually-hidden">Date:</span> May 08, 2025</a>
                                        </div>
                                    </div>
                                    <!-- End Author, Categories, Comments -->
                               
                               </div>
                               <!-- End Page Title -->
                                
                            </div>                            
                        </div>
                        <!-- End Section Content -->
                        
                    </div>           
                </section>
                <!-- End Header Section -->
                
                
                <!-- Section -->
                <section class="page-section">
                    <div class="container relative">
                        
                        <div class="row">
                            
                            <!-- Content -->
                            <div class="col-lg-8 offset-lg-2">
                                
                                <!-- Post -->
                                <div class="blog-item mb-80 mb-xs-40">
                                    
                                    <div class="blog-item-body chat-gpt">
                                    
                                        <!-- Media Gallery -->
                                        <!-- <div class="blog-media mb-40 mb-xs-30">
                                            <div>
                                                <img src="../../images/blog/blog03.jpg" alt="아기 돼지 삼형제" />
                                            </div>
                                        </div>                                         -->

                                        <blockquote>
                                            <p>
                                                &nbsp; 프로그래밍을 하다 보면 코드를 자동으로 변환하고 오류를 수정해주는 도우미 에이전트가 있으면 얼마나 좋을까요? 이번 포스트에서는 실제 예시로 Oracle PL/SQL 코드를 Java(Spring Boot) 코드로 변환하면서, 그래프 데이터베이스와 임베딩 벡터를 활용해 자동으로 오류를 찾아 고치는 “피드백 루프” 코딩 에이전트의 동작을 살펴보겠습니다.
                                            </p>
                                        </blockquote>


                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                먼저 전체 흐름을 요약하면 다음과 같습니다.
                                            </p>
                                            <!-- <p style="text-decoration: underline; margin-bottom: 10px;"><b>어그리게이트의 특징:</b></p> -->
                                            <ol class="mb-40">
                                                <li>PL/SQL 코드를 파싱해서 구문 단위로 그래프 구조로 만든다. (노드: 각 구문, 엣지/관계: <code>PARENT_OF</code>, <code>NEXT</code>)</li>
                                                <li>각 구문을 요약한 텍스트를 임베딩 벡터로 변환한다. (예: OpenAI Embedding API 등 활용)</li>
                                                <li>변환된 Java(Spring Boot) 코드를 생성한다. (PL/SQL 구문 단위 → 대응되는 Java 메서드 코드로 변환)</li>
                                                <li>코드를 실행하고 로그를 수집한다. 오류가 있다면 오류 메시지를 텍스트로 얻는다.</li>
                                                <li>로그 메시지도 임베딩 벡터로 변환한다.</li>
                                                <li>임베딩 벡터들 사이의 코사인 유사도를 계산하여, 오류와 관련된 가능성이 높은 코드 구문을 찾는다.</li>
                                                <li>해당 관련 구문 노드를 그래프에서 찾아내 주변 <strong>맥락(context)</strong>을 정리한다.</li>
                                                <li>이 맥락을 바탕으로 <strong>LLM(대규모 언어 모델)</strong>에게 코드 수정 방안을 묻고 제안을 얻는다.</li>
                                                <li>LLM의 코드 수정 제안을 실제 코드에 반영하고, 그래프와 벡터도 갱신한다.</li>
                                                <li>수정된 코드를 다시 테스트하여, 문제가 해결됐는지 확인하고 필요하면 과정을 반복한다.</li>
                                            </ol>
                                            <p class="mt-10">
                                                이제 하나씩 그림과 함께 자세히 알아볼까요?
                                            </p>
                                        </div>
                                        <!-- <div class="mb-50">
                                            <p class="mt-10">
                                                모든 문제를 사람의 힘으로 찾고 고치는 일은 매우 번거롭죠. 그런데 만약 <b>코드가 스스로 로그를 분석해 원인을 찾아 고친다면 어떨까요?</b>
                                                <br>이번 글에서는 <b>그래프 DB</b>와 <b>임베딩 벡터(Embedding)</b>를 활용하여, 코드가 에러를 발견하고 수정까지 반복하는 자동화 <b>피드백 루프</b> 에이전트를 구현하는 방법을 소개합니다. 개발자에게 친숙한 방식으로 풀어보겠습니다.
                                            </p>
                                        </div> -->

                                        <blockquote>
                                            <p>
                                                &nbsp; 1. PL/SQL 파싱 및 구문 그래프 생성
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding01.png" alt="" />
                                            </div>
                                        </div>  

                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                PL/SQL로 작성된 프로그램을 먼저 <b>파싱(parsing)</b>하여 구문(AST) 단위의 그래프를 만듭니다. 이 그래프의 <b>노드(node)</b>들은 각 개별 실행 구문(예: <code>SELECT ...</code>, <code>UPDATE ...</code> 등의 문장)을 나타내고, <b>엣지(edge)</b>들은 구문들 간의 관계를 나타냅니다. 예컨대 상위 블록과 하위 구문 간에는 <code>PARENT_OF</code> 관계(부모-자식)이 되고, 순차적으로 실행되는 구문 간에는 <code>NEXT</code> 관계로 연결됩니다. 위 그림은 간단한 예제로, <code>Procedure: MyProc</code> 노드 아래에 <code>SELECT ...</code> 노드와 <code>UPDATE ...</code> 노드가 부모-자식 관계로 연결되어 있고, <code>SELECT</code> 다음에 <code>UPDATE</code>가 실행되는 순차 관계(<code>NEXT</code>)로 이어져 있음을 보여줍니다.
                                            </p>
                                            <p>
                                                이렇게 그래프로 코드 구조를 표현하면 프로그램의 논리 흐름을 시각적으로 한눈에 파악할 수 있습니다. 마치 복잡한 소스 코드를 잘 펼쳐서 <b>지도(map)</b>처럼 보는 효과를 주는데요. 또한 각 노드/엣지에 추가 정보를 쉽게 달 수 있어, 이후에 코드의 특정 부분을 신속히 찾아내거나 수정할 때 유용합니다. 그래프 데이터베이스를 쓰면 노드와 관계를 자연스럽게 저장하고 탐색할 수 있어서, 복잡하게 얽힌 코드에서도 원하는 부분을 직접 연결 따라 찾아가기가 수월합니다.
                                            </p>
                                        </div>


                                        <blockquote>
                                            <p>
                                                &nbsp; 2. 구문 요약 및 임베딩 벡터 변환
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding02.png" alt="" />
                                            </div>
                                        </div>

                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                그래프로 표현한 각 구문 노드에 대해, 간단한 요약문을 만들고 이를 <b>임베딩 벡터(embedding vector)</b>로 변환합니다. 임베딩 벡터란 문장 등의 텍스트를 수백 차원의 숫자 벡터로 변환한 것으로, 텍스트의 의미나 특징을 좌표로 나타낸 것이라 할 수 있어요. 예를 들어 <code>"테이블 Y에서 X를 조회"</code> 같은 구문 요약을 임베딩하면 <code>[0.1, -0.3, 0.7, ...]</code>처럼 여러 실수 값들로 이뤄진 벡터로 변환됩니다. 이런 벡터 공간에서는 의미가 비슷한 문장일수록 가까운 위치를 차지하고, 의미가 다르면 먼 위치를 차지하게 됩니다. 즉, 벡터들끼리의 거리나 각도를 통해 구문들 간의 유사도를 수치화할 수 있는 것이죠.
                                            </p>
                                            <p>
                                                임베딩 벡터를 얻기 위해서는 주로 기계학습으로 훈련된 언어모델을 활용하는데, OpenAI의 Embedding API 같은 서비스를 사용하면 손쉽게 텍스트를 임베딩으로 변환할 수 있습니다. 이렇게 모든 PL/SQL 구문 노드들은 각자 자기 내용을 나타내는 임베딩을 가지게 되고, 이는 나중에 오류 로그와 코드 구문의 의미 비교를 가능하게 해줍니다. 간단히 말해, 임베딩 덕분에 코드 조각과 오류 메시지를 같은 공간에 숫자로 표현해 서로 유사한지 계산할 수 있게 되는 거예요.
                                            </p>

                                            <!-- <p style="border: 1px solid #ccc; padding: 10px; border-radius: 5px;">
                                                왜 임베딩 벡터일까요? 전통적인 키워드 검색은 코드에 "salary"라는 단어가 포함되어야만 찾을 수 있지만, 임베딩 검색을 쓰면 "임금", "급여"처럼 단어가 다르더라도 의미가 비슷하면 잡아낼 수 있습니다. 또한 복잡한 문장도 의미 공간에서 유사도를 비교하니 코드 조각 간 의미 유사성을 비교하는 데 적합합니다.
                                            </p> -->
                                        </div>     

                                        
                                        <blockquote>
                                            <p>
                                                &nbsp; 3. Java(Spring Boot) 코드 생성 단계
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding03.png" alt="" />
                                            </div>
                                        </div>

                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                그래프와 임베딩을 준비한 후에는, 원래 PL/SQL로 작성되었던 기능을 Java(Spring Boot) 애플리케이션 코드로 변환합니다. 한마디로 코드 이식 작업인데요, 자동화된 도구 또는 규칙을 통해 PL/SQL 구문 단위마다 대응되는 Java 메서드를 생성하게 됩니다. 예컨대, 위 그림의 PL/SQL 코드 <code>PROCEDURE MY_PROC</code> 내부의 <code>SELECT COUNT(*) ...</code> 구문은 Java의 <code>employeeRepo.count()</code>를 호출하는 코드로 바뀌었습니다. 이렇게 해서 전체 PL/SQL 절차를等 Spring Boot 서비스 클래스 등의 메서드들로 변환해 냅니다.
                                            </p>
                                            <p>
                                                이 단계에서는 주로 1번 단계에서 만든 구문 그래프를 따라가며 각 노드별로 미리 정의된 변환 패턴을 적용합니다. PL/SQL의 IF문이나 LOOP문 같은 논리 구조는 Java의 if나 loop 블록으로, 쿼리 실행은 JPA나 JDBC 호출로 변환하는 식이지요. 결과적으로 모든 PL/SQL 구문이 Java 코드로 표현되어, 기존에 데이터베이스에 묶여있던 로직을 독립적인 애플리케이션 코드로 얻을 수 있습니다. (이러한 PL/SQL->Java 변환 도구에는 상용 솔루션도 있고, 오픈소스로 SQLines, Ispirer 같은 것이 언급되곤 합니다.)
                                            </p>
                                            <p>
                                                변환이 끝나면 우리는 초기 버전의 Java(Spring) 코드를 얻게 되지만, 바로 끝이 아닙니다. 자동 변환된 코드에는 아직 손봐야 할 부분이나 숨은 오류가 있을 수 있기 때문입니다. 그래서 이어지는 단계에서 이 코드의 실행 결과를 확인하고, 문제가 발견되면 수정 피드백 루프를 돌게 됩니다.
                                            </p>
                                        </div>     


                                        <blockquote>
                                            <p>
                                                &nbsp; 4. 코드 실행 및 로그 수집
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding04.png" alt="" />
                                            </div>
                                        </div>

                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                이제 생성된 Java 코드를 실제로 빌드하고 실행해봅니다. Spring Boot 애플리케이션을 구동하거나, 해당 메서드들을 테스트 케이스로 실행시켜 볼 수 있겠지요. 이 때 콘솔이나 로그 파일로 출력되는 <b> 로그(log)</b>를 수집합니다. 만약 코드에 오류가 없다면 로그에 특별한 에러 메시지 없이 정상 완료될 것이고, 치명적인 문제가 있다면 예외(Exception) 스택 트레이스나 오류 메시지가 로그에 남을 것입니다.
                                            </p>
                                            <p>
                                                예를 들어, 변환된 코드에서 널 포인터 예외가 발생했다면 로그에 <code>"NullPointerException at line 45"</code> 같은 메시지가 기록됩니다. 우리는 이러한 로그 출력(특히 오류 관련 부분)을 모아서 문자열 형태로 확보합니다. 그리고 에이전트가 이해하기 쉽도록 불필요한 시간정보 등을 제거하고 오류 원인만 간추린 텍스트로 정제하지요. 이 로그 텍스트는 다음 단계에서 임베딩으로 변환되어, 앞서 구문들의 임베딩과 비교될 것입니다.
                                            </p>
                                            <p>
                                                즉, 4단계의 목표는 현재 코드 상태에서 어떤 문제가 발생했는지에 대한 단서 단어들을 얻는 것입니다. 사람으로 치면 콘솔에 찍힌 에러를 보는 단계이고, 에이전트 관점에서는 "어디가 잘못됐을까?"를 알아내기 위한 단서 데이터 수집 단계인 셈입니다.
                                            </p>
                                        </div>     


                                        <blockquote>
                                            <p>
                                                &nbsp; 5. 로그 임베딩 벡터로 변환
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding05.png" alt="" />
                                            </div>
                                        </div>
                                        
                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                수집한 로그(오류 메세지 포함)를 이제 다시 임베딩 벡터로 변환합니다. 이는 2단계에서 코드 구문에 대해 했던 것과 똑같은 과정인데요, 한마디로 텍스트를 숫자 벡터로 표현하는 것입니다. <code>"NullPointerException at line 45"</code> 같은 오류 로그 내용도 임베딩 모델을 통하면 <code>[0.2, 0.1, -0.4, ...]</code> 처럼 다차원 벡터로 변환됩니다. 이렇게 하면 코드 구문들의 임베딩 공간에 오류 로그도 같은 공간상의 한 점으로 표현되기 때문에, 서로 간의 의미적 거리를 비교할 준비가 된 것입니다.
                                            </p>
                                            <p>
                                                임베딩된 오류 로그 벡터는 해당 오류의 의미를 내포하고 있습니다. 예를 들어 NullPointerException이라면 “어떤 객체가 null인데 접근하려 했다”는 의미를, SQL 에러라면 “데이터베이스 쿼리 문제”라는 의미를 벡터 특성에 담게 되겠지요. 임베딩 모델은 거대한 텍스트 학습으로 이러한 의미를 숫자 형태로 학습했으므로, 비슷한 종류의 오류는 비슷한 벡터값을 가질 가능성이 높습니다. 이는 다음 단계에서 “이 오류와 가장 관련 있는 코드 부분은 어디인가?”를 벡터 유사도로 찾아낼 수 있게 해줍니다.
                                            </p>
                                            <p>
                                                정리하면, 이제 우리의 코드 각 구문마다 임베딩된 벡터가 있고, 새로 발생한 오류 로그에도 벡터가 있으니, 이들을 서로 비교해볼 차례입니다.
                                            </p>
                                        </div>   


                                        <blockquote>
                                            <p>
                                                &nbsp; 6. 벡터 유사도 기반 관련 구문 탐색 (Cosine Similarity)
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding06.png" alt="" />
                                            </div>
                                        </div>

                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                임베딩 벡터 공간에서 오류 로그 벡터와 가장 가까운 코드 구문 벡터를 찾는 단계입니다. 보통 벡터 간 유사도를 재는 방법으로 <b>코사인 유사도(cosine similarity)</b>를 많이 쓰는데요, 두 벡터 사이 각도가 작을수록(즉, 둘이 가리키는 방향이 비슷할수록) 값이 1에 가까워지고, 직각으로 완전히 다르면 0, 반대 방향이면 -1이 되는 그런 지표입니다. 쉽게 말해, 벡터 사이 각도가 작을수록 내용이 비슷하다는 뜻이지요.
                                            </p>
                                            <p>
                                                위 그림은 2차원으로 단순화한 예시인데, 빨간색 점이 오류 로그 벡터를, 파란색 점들이 각각 다른 코드 구문 벡터들을 나타냅니다. 초록색으로 강조된 Code 1 벡터와 Error Log 벡터가 이루는 각도가 가장 좁은 것을 볼 수 있습니다. 이 경우 Code 1 구문이 로그에 나타난 문제와 가장 연관성 높은 코드라고 판단할 수 있습니다. (다른 Code 2, Code 3 벡터는 빨간 오류와 각도가 더 크죠.) 실제 시스템에서는 수백 차원 공간에서 이 코사인 유사도를 계산하지만, 원리는 이 2D 그림과 같습니다. 오류 로그와 내용적으로 유사한 (키워드가 비슷하거나 관련 기능을 하는) 코드일수록 벡터도 유사해져서 코사인 유사도 값이 높아지는 것이죠.
                                            </p>
                                            <p>
                                                이렇게 해서 에이전트는 <em>“이번 오류와 관련이 깊은 코드 조각은 그래프에서 어떤 노드인가?”</em> 를 자동으로 찾아냅니다. 예를 들어 Null 포인터 에러라면, null을 다루는 코드 구문이나 해당 변수 처리 부분이 선택될 수 있고, SQL 문법 오류라면 잘못된 SQL을 포함한 구문이 선택되겠죠. 여러 후보 노드가 유사도가 비슷하면 상위 몇 개를 함께 후보로 취급할 수도 있습니다.
                                            </p>
                                        </div>    


                                        <blockquote>
                                            <p>
                                                &nbsp; 7. 관련 구문 노드 추출 및 맥락 정리
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding07.png" alt="" />
                                            </div>
                                        </div>
                                        
                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                앞 단계에서 유사도가 가장 높은 코드 구문 노드를 찾았다면, 이제 그 노드를 그래프에서 <b>추출하여 맥락(context)</b>을 이해합니다. 그래프 구조 덕분에 우리는 그 노드의 부모 노드(상위 블록은 무엇인지), 이전/다음 실행 노드(흐름 상 앞뒤에 어떤 구문이 있는지), 그리고 같은 부모 안의 다른 형제 노드들을 쉽게 가져올 수 있습니다. 이 과정은 사람으로 치면 <em>"오류가 난 코드 주변을 살펴보는 것"</em> 과 비슷합니다.
                                            </p>
                                            <p>
                                                예를 들어, 위 그림에서 선택된 노드가 <code>SELECT ...</code> 구문이라면, 에이전트는 이 <code>SELECT ...</code> 노드 자체뿐 아니라, 그 부모 절차(<code>Procedure: MyProc</code>)나 다음에 이어지는 <code><code>UPDATE</code> ...</code> 구문 등 관련된 맥락을 모두 모아볼 수 있습니다. 이를 통해 단순히 해당 한 줄의 코드만 보는 게 아니라, “이 코드가 어디에서, 어떤 조건으로 실행되는지” 이해하게 됩니다.
                                            </p>
                                            <p>
                                                맥락 정리란 이렇게 수집된 관련 코드 조각들을 적절히 요약하거나, 필요한 경우 원본 코드 조각 그대로를 추려내는 것을 뜻합니다. 에이전트는 이 맥락 정보를 이후 단계의 LLM에 전달해야 하므로, 노이즈를 빼고 핵심만 담도록 신경 씁니다. 예를 들어 "이 <code>SELECT</code>문은 <code>MyProc</code> 프로시저의 시작 부분에서 실행되며, 바로 다음에 <code>UPDATE</code>문이 이어진다" 정도로 맥락을 정리할 수 있겠지요. 또한 변수명이나 상수값 등도 오류 해결에 중요하다면 포함시켜 줍니다.
                                            </p>
                                            <p>
                                                정리하자면, 7단계에서는 오류와 연관된 코드 부분을 그래프에서 찾아내어, 그 주변 상황까지 파악하는 것입니다. 이는 다음 단계에서 AI에게 줄 <b>“문맥을 포함한 질문”</b>을 만들기 위한 준비라고 볼 수 있습니다.
                                            </p>
                                        </div>     


                                        <blockquote>
                                            <p>
                                                &nbsp; 8. LLM 기반 코드 수정 제안 요청
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding08.png" alt="" />
                                            </div>
                                        </div>
                                        
                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                드디어 <b>대규모 언어 모델(LLM)</b>의 도움을 받을 차례입니다! 에이전트는 7단계에서 정리한 문제 구문과 그 맥락, 그리고 오류 로그 내용을 합쳐 하나의 <b>프롬프트(prompt)</b>를 구성합니다. 이 프롬프트는 인간 개발자가 Stack Overflow나 지인에게 조언을 구하듯이, AI에게 "이러이런 코드가 있고 이런 오류가 났는데 어떻게 고치면 좋을까?" 묻는 질문이라고 할 수 있습니다.
                                            </p>
                                            <p>
                                                LLM은 이 프롬프트를 받고 나서 내부 지식을 활용해 답을 생성합니다. 최신 GPT-4나 코덱스(Codex) 같은 모델들은 방대한 프로그래밍 지식을 학습했기 때문에, 주어진 코드와 오류를 분석하여 수정 제안을 만들어낼 수 있습니다. 예컨대 NullPointerException 문제라면 "어떤 객체가 null인지 확인하고, null 체크 로직을 추가하세요." 와 같은 조언을 줄 수 있고, SQL 문법 오류라면 "SQL 쿼리에서 잘못된 구문 X를 Y로 고치세요." 라고 구체적으로 알려줄 수도 있겠지요.
                                            </p>
                                            <p>
                                                에이전트는 LLM으로부터 받은 답변을 코드 수정 제안으로 채택합니다. 제안은 자연어 설명과 함께 경우에 따라 수정된 코드 조각 형태로 오기도 합니다. 중요한 것은 LLM이 제안한 내용이 실제로 현재 상황에 맞는지 검토하는 것인데, 에이전트는 신뢰할 만한 조언이라고 판단되면 이를 그대로 다음 단계에 적용해 봅니다. (만약 LLM 답변이 엉뚱하면 프롬프트를 조정해서 몇 번 더 시도할 수도 있습니다.)
                                            </p>
                                            <p>
                                                요즘 연구들을 보면 이런 방식으로 LLM이 자동 디버깅을 도와주는 사례들이 많습니다. 예를 들어 GitHub의 코파일럿(CoPilot)이나 ChatGPT 플러그인들은 코드와 오류를 주면 수정을 제안해주곤 합니다. 우리 에이전트도 그와 비슷하게 AI 조언자를 활용하는 것이죠.
                                            </p>
                                        </div>    


                                        <blockquote>
                                            <p>
                                                &nbsp; 9. 코드 수정 반영 및 그래프/벡터 갱신
                                            </p>
                                        </blockquote>

                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding09.png" alt="" />
                                            </div>
                                        </div>
                                        
                                        <div class="mb-50 prose">
                                            <p class="mt-10">
                                                LLM이 제안한 수정 사항을 실제 코드베이스에 반영합니다. 예를 들어 <em>"변수 <code>user</code>가 null인지 체크하는 코드를 추가"</em> 하라는 제안을 받았다면, 해당 구문 앞에 <code>if (user != null) { ... }</code> 같은 코드를 삽입하거나 로직을 변경합니다. 또는 <em>"쿼리문 WHERE 절에 누락된 조건을 추가"</em> 하라는 제안이라면 Java 코드의 해당 JPQL 또는 SQL 문자열을 고치는 식입니다. 이렇게 코드 수정을 자동으로 적용하는 것은 상당히 도전적인 일이지만, 에이전트는 그래프 구조를 활용해 정확한 위치를 찾아 수정할 수 있습니다. 7단계에서 특정 노드와 맥락을 알고 있으니 그 위치를 알고 있고, 거기에 제안된 변경을 반영하는 것이지요.
                                            </p>
                                            <p>
                                                코드가 수정되었다면, 우리의 코드 그래프와 임베딩 벡터 데이터도 업데이트해주어야 합니다. 수정된 구문 노드는 내용이 바뀌었으므로 이전과 다른 임베딩을 가질 수 있겠죠. 따라서 해당 노드의 새로운 요약을 만들고 임베딩을 다시 계산합니다. 또한 코드 구조가 변했다면 (노드가 추가되거나 삭제되거나) 그래프에도 변경을 적용합니다. 다행히 그래프 DB에서는 이러한 갱신이 유연합니다. 새로운 노드/엣지를 추가하거나 제거해도 전체 데이터베이스 스키마를 바꿀 필요 없이 바로바로 반영할 수 있거든요.
                                            </p>
                                            <p>
                                                이 단계를 끝내면, 코드베이스는 한층 개선된 버전이 됩니다. 예전에는 오류를 일으키던 부분이 이제 수정되었을 것이고, 우리는 업데이트된 코드로 다시 시험해볼 준비가 된 셈입니다. 그래프와 임베딩도 최신 코드 상태를 반영하므로, 다음에 문제가 또 생긴다면 새로운 상황에 맞게 또 분석할 수 있습니다.
                                            </p>
                                            <p>
                                                요약하면, 9단계에서는 AI의 제안을 실제 코드에 적용하고 우리의 코드 지식베이스(그래프/벡터)를 최신화하는 작업이 진행됩니다. 이제 개선된 코드를 가지고 마지막 단계를 진행해보겠습니다.
                                            </p>
                                        </div>   


                                        <blockquote>
                                            <p>
                                                &nbsp; 10. 테스트 재실행 및 반복 여부 결정
                                            </p>
                                        </blockquote>
                                        
                                        <!-- Media Gallery -->
                                        <div class="blog-media mb-40 mb-xs-30">
                                            <div style="width: 86%; margin: 0 auto;">
                                                <img src="../../images/blog/embedding10.png" alt="" />
                                            </div>
                                        </div>
                                        
                                        <div class="mb-50">
                                            <p>
                                                이제 수정된 코드가 제대로 동작하는지 다시 한 번 테스트를 실행합니다. 마치 4단계처럼 코드를 돌려보고 로그를 확인하는 것이죠. 두 가지 경우가 있을 텐데요.
                                            </p>
                                            <!-- <p style="text-decoration: underline; margin-bottom: 5px;"><b>1. 어그리게이트 크기 결정</b></p> -->
                                            <ol>
                                                <li><b>모든 문제가 해결되어 테스트 통과</b> : 로그를 확인해보니 더 이상 오류가 나타나지 않고 정상 동작한다면, 에이전트는 목표를 달성한 것입니다. "예, 통과!" 를 외치며 이 피드백 루프 과정을 종료하면 되겠죠.</li>
                                                <li><b>여전히 문제가 남아있거나 새로운 오류 발생</b> : 만약 아직 해결되지 않은 오류가 있다면, "아직 아니오..." 상태입니다. 이 경우 에이전트는 반복(repeat) 모드로 돌아갑니다. 다시 5단계부터 오류 로그를 임베딩하고, 관련 구문을 찾고, AI에게 도움을 청하는 일련의 과정을 반복합니다. (필요하면 1단계부터 전체 그래프를 재구성할 수도 있지만, 일반적으로 코드 구조 자체는 크게 안 변하니 그래프는 재사용합니다.) 이렇게 반복 루프를 돌면서 남은 문제들을 하나씩 해결해나갑니다.</li>
                                            </ol>

                                            <p>
                                                실제로 많은 자동 디버깅 시스템이 이러한 피드백 루프를 특징으로 합니다. <em>“문제 발견 → 수정 시도 → 재시험”</em> 을 사람이 수차례 반복하듯, 에이전트도 성공할 때까지 반복하는 거죠. 다만 무한정 반복하지는 않도록, 일정 횟수 이상 반복해도 안 되면 사람 개입이 필요하다는 신호를 주는 식의 제한을 두기도 합니다.
                                            </p>
                                            <p>
                                                우리의 코딩 에이전트는 그래프 DB로 코드 구조를 체계적으로 관리하고, 임베딩 벡터로 오류와 코드를 의미 수준에서 매칭해내며, LLM의 지식으로 문제를 해결하는 멋진 협업을 보여주었습니다. 이 접근법을 통해 오래된 PL/SQL 코드를 현대적인 Java로 자동 변환하고, 발생하는 자잘한 버그까지 잡아내는 것이 가능해집니다. 요즘 들어 코드 자체를 이해하고 고치는 AI에 대한 기대가 큰데, 그 구체적인 한 예를 살펴본 셈입니다.
                                            </p>
                                        </div>

                                        <blockquote>
                                            <p>
                                                &nbsp; 마지막으로, 정리 겸 비유를 하나 들어볼게요.
                                            </p>
                                        </blockquote>

                                        <div class="mb-50">
                                            <p class="mt-10">
                                                이 에이전트를 인간 팀에 비유하면, 그래프 DB는 체계적인 설계도를 들고 있는 아키텍트, 임베딩 벡터 유사도는 문제와 관련된 단서를 찾아주는 탐정, LLM은 풍부한 경험의 시니어 개발자라고 할 수 있습니다. 이들이 힘을 합쳐 코드 개선이라는 목표를 향해 피드백 루프를 도는 모습, 참 흥미롭지 않나요? 앞으로 이런 자동화 도구가 더 발전하면 개발자의 부담을 많이 덜어줄 것으로 기대됩니다.
                                            </p>
                                        </div>   
                                        <!-- <div>
                                            <p>[출처] <a href="https://www.msaschool.io/operation/design/design-trade-off/">MSA School - 마이크로서비스의 마법: 어그리게이트와 이벤추얼 컨시스턴시로 데이터 일관성과 성능 모두 잡기</a></p>
                                        </div> -->
                                    </div>

                                </div>
                                <!-- End Post -->
                                
                                <!-- Prev/<code>NEXT</code> Post -->
                                <div class="clearfix mt-80">
                                    <a href="../blogList.html" class="blog-item-more left"><i class="mi-chevron-left"></i>&nbsp;Back to blog</a>
                                </div>
                            </div>
                            <!-- End Content -->
                        
                        </div>
                        
                    </div>
                </section>
                <!-- End Section -->
           
           </main>
            
            <!-- Footer -->
            <footer class="page-section footer bg-gray-light-1 pb-30">
                <div class="container">
                    
                    <div class="row pb-120 pb-sm-80 pb-xs-50">
                                                
                        <div class="col-md-4 col-lg-4 text-gray mb-sm-50" style="font-size: 14px;">
                            
                            <div class="mb-30">
                                <img src="../../images/logo-b.png" width="105" height="34" alt="uEngine Logo" />
                            </div>
                            
                            <p>
                                유엔진솔루션즈는 2003년 이래 업무 프로세스 관리 (Business Process Management), AI, MSA, 기업용 SNS, PaaS 를 포함한 클라우드 플랫폼, 도메인 기반 개발 방법을 지향하는 개발 프레임워크 등을 개발하고 오픈소스 프로젝트로 제공하는 기술 집약적 기업입니다.
                            </p>
                            
                            <div>                                
                                <!-- 본사: 서울특별시 서초구 신반포로45길 18 5층 502호<br> -->
                                본사: 서울 서초구 사임당로 31 궁현빌딩 3층 301호<br>
                                지사: 경상남도 창원시 성산구 상남로37
                            </div>
                            
                            <div class="clearlinks">                                
                                <strong>T.</strong> 02.567.8301</a>
                            </div>
                            
                            <div class="clearlinks">
                                <strong>E.</strong> help@uengine.org</a>
                            </div>

                            <div class="clearlinks" style="margin-top: 5px;">                                
                                <a href="https://www.facebook.com/groups/cloudswmoding" rel="noopener nofollow" target="_blank">
                                    <i class="fa-facebook"></i>
                                    Facebook
                                </a>
                            </div>
                            
                            <div class="clearlinks">
                                <a href="https://www.youtube.com/channel/UCWXNEfACspVtCa-hyYBC76g" rel="noopener nofollow" target="_blank">
                                    <i class="fa-youtube"></i>
                                    Youtube
                                </a>
                            </div>
                        </div>
                        
                        <div class="col-md-7 offset-md-1 offset-lg-1">                            
                            <div class="row mt-n30">
                                
                                <!-- Footer Widget -->
                                <div class="col-sm-4 mt-30">
                                    
                                    <h3 class="fw-title">AI For Development</h3>
                                    
                                    <ul class="fw-menu clearlist">                                        
                                        <li><a href="https://www.msaez.io/" target="_blank">MSA Easy (SaaS)</a></li>
                                        <li><a href="../dxez.html">DX Easy (On-Prem)</a></li>
                                        <li><a href="../legacyModernizer.html">Legacy Modernizer</a></li>
                                        <li><a href="https://www.msaschool.io/operation/introduction/" target="_blank">Education - MSA</a></li>
                                        <!-- <li><a href="https://www.llmschool.ai/operation/introduction/" target="_blank">Education - LLM</a></li> -->
                                        <li><a href="../consultingMSA.html">Consulting</a></li>
                                        <li><a href="../vibeCodingRental.html">Vibe Coding</a></li>
                                        <li><a href="../caseStudiesMSA.html">Case Studies</a></li>
                                    </ul>
                                    
                                </div>
                                <!-- End Footer Widget -->
                                
                                <!-- Footer Widget -->
                                <div class="col-sm-4 mt-30">
                                    
                                    <h3 class="fw-title">AI For Business Process</h3>
                                    
                                    <ul class="fw-menu clearlist">                                        
                                        <li><a href="../uengine6bpm.html">uEngine6 BPM</a></li>
                                        <li><a href="../processGPT.html">Process GPT</a></li>
                                        <li><a href="../educationBPM.html">Education</a></li>
                                        <li><a href="../consultingBPM.html">Consulting</a></li>
                                        <li><a href="../caseStudiesBPM.html">Case Studies</a></li>
                                    </ul>
                                    
                                </div>
                                <!-- End Footer Widget -->
                                
                                <!-- Footer Widget -->
                                <div class="col-sm-4 mt-30">
                                    
                                    <h3 class="fw-title">About</h3>
                                    
                                    <ul class="fw-menu clearlist">                                        
                                        <li><a href="../history.html">History</a></li>
                                        <li><a href="../newsroom.html">Newsroom</a></li>
                                        <li><a href="../newsWebinars.html">Webinars</a></li>
                                        <li><a href="https://uengine.stibee.com/" target="_blank">Newsletter</a></li>
                                        <li><a href="../interview.html">Interview</a></li>
                                        <li><a href="../partners.html">Partners</a></li>
                                    </ul>
                                    
                                </div>
                                <!-- End Footer Widget -->

                                <!-- Footer Widget -->
                                <!-- <div class="col-sm-4 mt-30">
                                    
                                    <ul class="fw-menu clearlist">                                        
                                        <li><a href="../newsWebinars.html"><span style="border-bottom: 2px solid currentColor">News & Webinars</span></a></li>
                                    </ul>
                                </div> -->
                                <!-- End Footer Widget -->
                            </div>                            
                        </div>
                        
                    </div>
                    
                    <!-- Footer Text -->
                    <div class="row text-gray">
                        
                        <div class="col-md-4 col-lg-3">
                            <!-- <b>© uEngine 2024.</b> -->
                        </div>
                        
                        <div class="col-md-7 offset-md-1 offset-lg-2 clearfix">
                            
                            <b>© uEngine 2024. All Rights Reserved.</b>
                            
                            <!-- Back to Top Link -->
                            <div class="local-scroll float-end mt-n20 mt-sm-10">
                                <a href="#top" class="link-to-top">                                
                                    <i class="mi-arrow-up size-24"></i>
                                    <span class="visually-hidden">Scroll to top</span>
                                </a>
                            </div>
                            <!-- End Back to Top Link -->
                            
                        </div>
                        
                    </div>
                    <!-- End Footer Text --> 
                    
                 </div>                 
            </footer>
            <!-- End Footer -->
        
        </div>
        <!-- End Page Wrap -->      
        
        <!-- JS -->
        <script src="../../js/jquery.min.js"></script>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script src="../../js/plugins.js"></script>
        <script src="../../js/jquery.ajaxchimp.min.js"></script>             
        <script src="../../js/contact-form.js"></script>        
        <script src="../../js/all.js"></script> 
        <!-- End JS -->       
        
    </body>
</html>